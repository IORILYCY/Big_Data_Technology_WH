# Kimball维度建模

## 一、概览

### 1.1 基本概念

* 维度建模步骤：
  1) 选择业务过程
  2) 声明粒度
  3) 确定维度
  4) 确定事实

* 业务过程：指组织完成的业务型活动，如获取订单、会员注册、每月销售额快照等。业务过程事件获取度量，转化为事实表中的事实
* 粒度：用于确定事实表中一行代表什么，在选择维度和事实前必须确定粒度，确保维度和事实与粒度一致。原子粒度是最细粒度，通常维度建模要从原子粒度开始
* 维度：围绕某一过程时间，用于描述 “谁、什么、何处、何时、如何、为什么” 等背景
* 事实：设计过程事件的度量，通常是数量值，事实表的行与事件必须是一对一的关系，同一张表中所有行都必需有相同的粒度
* 维度模型扩展：
  * 可以在事实表创建新列，前提是新增事实与事实表粒度一致
  * 可以添加新的外键将维度关联到已存在的事实上，但前提是维度与事实粒度一致
  * 可以在维度表创建新列，用来增加维度属性
  * 可以使事实表更加原子化，方法是在维度表增加属性，然后以更细的粒度重置事实表

## 二、事实表技术基础

### 2.1 事实表结构

* 事实表存储真实世界中操作型事件产生的可度量数值
* 存储的字段包括与维度表关联的外键，度量的数值，以及可退化的维度属性和日期/时间戳
